<div data-role="page" data-theme="b">

	<div data-role="header" data-position="inline">
    <h1>イベント機能</h1>
    <a href="<%= Rho::RhoConfig.start_path %>" class="ui-btn-left" data-icon="home" data-direction="reverse" <%= "data-ajax='false'" if is_bb6 %>>
      機能リストへ
    </a>

    <div data-role="navbar">
      <ul>
        <li>
          <a href="<%= url_for(:action => :new) %>" class="ui-btn-active">新規作成</a>
        </li>
        <li>
          <a href="<%= url_for(:action => :init) %>" class="ui-btn-active">テストデータの投入</a>
        </li>
      </ul>
    </div>
	</div>

  <div data-role="content">
    <form action="<%= url_for(:action => :list) %>" method="POST">
      <div data-role="fieldcontain">
        <label for="start_date" class="fieldLabel">開始日</label>
        <input type="text" id="start_date" name="start_date" readonly <%= placeholder("開始日") %> onClick="choseDateTimeAJPicker('開始日', 'start_date');" />
      </div>

      <div data-role="fieldcontain">
        <label for="end_date" class="fieldLabel">終了日</label>
        <input type="text" id="end_date" name="end_date" readonly <%= placeholder("終了日") %> onClick="choseDateTimeAJPicker('終了日', 'end_date');" />
      </div>

      <fieldset data-role="controlgroup">
        <legend>検索種類:</legend>
        <input type="radio" name="find_type" id="starting" value="starting" checked="checked" />
        <label for="starting">期間内に開始のイベント</label>
        <input type="radio" name="find_type" id="ending" value="ending" />
        <label for="ending">期間内に終了のイベント</label>
        <input type="radio" name="find_type" id="occurring" value="occurring"  />
        <label for="occurring">期間内に発生するイベント</label>
      </fieldset>

      <div data-role="fieldcontain">
        <input type="checkbox" name="repeating" id="repeating" class="custom" />
        <label for="repeating">繰り返しイベント</label>
      </div>

      <input type="submit" value="一覧表示"/>
    </form>
  </div>
</div>

<script type="text/javascript">
  function setFieldValue(field, value) {
    document.getElementById(field).value=value;
  }

  function choseDateTimeAJPicker(title, field_key) {
    $.get('<%= url_for(:action => :choose_date) %>', { title: title, field_key: field_key });
    return false;
  }
</script>